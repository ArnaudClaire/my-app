<h3>Pokemons</h3>

<ng-container *ngFor="let pokemon of pokemons; let i = index">
  <app-pokemon-item
    [pokemon]="pokemon"
    [action]="'update'"
    (updatePokemon)="handleUpdatePokemon($event)"
  >
  </app-pokemon-item>
</ng-container>

<div *ngIf="showInput">
  <h2>Pokemon {{ currentPokemon?.id }}</h2>
  <h4>Nom</h4>
  <div class="row">
    <div class="col-8">
      <input
        class="form-control"
        type="text"
        [(ngModel)]="currentPokemonName"
      />
    </div>
    <div class="col-2">
      <button (click)="onUpdatePokemon()" class="btn btn-primary">
        Modifier
      </button>
    </div>
  </div>
  <h4>Sex</h4>
  <div class="row">
    <div class="col">
      <div ngbDropdown class="d-inline-block">
        <button
          type="button"
          class="btn btn-outline-primary"
          id="dropdownBasic1"
          ngbDropdownToggle
        >
          {{ currentPokemon?.sex }}
        </button>
        <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
          <button ngbDropdownItem (click)="setSex('M')">Male</button>
          <button ngbDropdownItem (click)="setSex('F')">Female</button>
        </div>
      </div>
    </div>
  </div>
</div>

<ngb-toast
  class="app-notif"
  header="Pokemon modifié"
  *ngIf="currentPokemonName"
  (hide)="showToast = false"
>
  Le pokémon {{ currentPokemonName }} a été modifié
</ngb-toast>
